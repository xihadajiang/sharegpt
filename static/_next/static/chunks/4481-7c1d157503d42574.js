"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4481],{50362:function(e,n,t){t.d(n,{D2:function(){return I},Vp:function(){return L},ZP:function(){return D},ze:function(){return P}});var r=t(39324),a=t(70216),s=t(10064),i=t(4337),l=t(35250),o=t(26563),d=t(98359),c=t(57526),u=t(19841),x=t(70079),h=t(99581),f=t(1454),m=t(21389),g=t(1491),p=t(13246),v=t(35265),b=t(23234),j=t(59904),w=t(42798);function y(){var e=(0,i._)(["rounded-lg bg-white ring-1 ring-black/10 dark:bg-gray-800 dark:ring-white/20 shadow-[0_1px_7px_0_rgba(0,0,0,0.03)]"]);return y=function(){return e},e}function N(){var e=(0,i._)(["absolute z-[17] mt-2 flex max-h-60 w-full flex-col overflow-hidden text-base focus:outline-none dark:last:border-0 sm:text-sm md:w-[100%] gizmo:min-w-[250px]"]);return N=function(){return e},e}function k(){var e=(0,i._)(["absolute z-[17] -ml-[1px] flex flex-col gap-2 p-3 sm:p-4"]);return k=function(){return e},e}function C(){var e=(0,i._)(["flex items-center gap-2 truncate"]);return C=function(){return e},e}function _(){var e=(0,i._)(["h-6 w-6 shrink-0"]);return _=function(){return e},e}function M(){var e=(0,i._)(["absolute inset-y-0 right-0 flex items-center pr-5 text-gray-800 dark:text-gray-100"]);return M=function(){return e},e}function T(){var e=(0,i._)(["absolute inset-y-0 right-0 flex items-center pr-3 text-gray-800 dark:text-gray-100"]);return T=function(){return e},e}var I=["confidential","alpha","plus"];function D(e){var n=e.selectedOptions,t=e.selectedLabel,s=e.onChange,i=e.onAction,d=e.onOpen,c=e.onClose,u=e.dropdownRef,h=(0,a._)(e,["selectedOptions","selectedLabel","onChange","onAction","onOpen","onClose","dropdownRef"]),f=(0,x.useCallback)(function(e){if(e.some(function(e){return"string"==typeof e})){var n=e.find(function(e){return"string"==typeof e});null==i||i(n)}else s(e)},[s,i]);return(0,l.jsx)(o.R,{value:n.map(function(e){return e.value}),multiple:!0,onChange:f,children:function(e){var a=e.open;return(0,l.jsx)(z,(0,r._)({ref:u,selectedLabel:t||"".concat(n.length," selected"),open:a,onOpen:d,onClose:c,multiple:!0},h))}})}var z=(0,x.forwardRef)(function(e,n){var t=e.name,r=e.selectedLabel,a=e.open,s=e.options,i=e.actions,m=e.multiple,y=e.isLoading,N=e.loadingState,k=e.header,C=e.onOpen,_=e.onClose,M=e.theme,T=(0,x.useRef)(null),I=(0,x.useRef)(null),D=(0,g.oc)(),z=(0,b.Ml)();(0,x.useImperativeHandle)(n,function(){return{open:function(){if(!a){var e;null===(e=T.current)||void 0===e||e.click()}},close:function(){if(a){var e;null===(e=T.current)||void 0===e||e.click()}}}},[a]);var P=y?N||(0,l.jsx)("div",{className:"flex h-[42px] items-center justify-center",children:(0,l.jsx)(w.Z,{})}):(0,l.jsxs)(l.Fragment,{children:[k,(0,l.jsxs)(o.R.Options,{className:"overflow-auto",children:[s.map(function(e,n){return(0,l.jsx)(Z,{value:e.value,disabled:e.disabled,theme:M,children:function(n){var t=n.selected,r=n.active;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(E,{children:[e.imageUrl&&(0,l.jsx)(V,{children:(0,l.jsx)(p.Z,{url:e.imageUrl,name:e.title,size:"100%"})}),(0,l.jsxs)("span",{className:(0,u.default)(t&&!m&&"font-semibold","flex h-6 items-center gap-1 text-gray-800 dark:text-gray-100"),children:[e.title,e.tags.map(function(e){return L(e)}),e.customTags]})]}),m&&!e.disabled?(0,l.jsx)(B,{theme:M,selected:t}):t&&(0,l.jsx)(S,{theme:M,icon:"mini"===M?j.HQ:f.UgA}),e.disabled&&(0,l.jsx)(S,{theme:M,icon:c.Z,className:"text-red-700 dark:text-red-500"}),r&&D&&(0,h.createPortal)((0,l.jsx)(O,{option:e,dropdownRef:I}),document.body)]})}},n)}),null==i?void 0:i.map(function(e,n){return(0,l.jsx)(Z,{value:e.id,theme:M,children:function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"text-gray-800 dark:text-gray-100",children:e.label}),(0,l.jsx)(S,{theme:M,icon:e.icon})]})}},n)})]})]});return(0,l.jsxs)("div",{className:"relative w-full gizmo:w-fit md:w-1/2 lg:w-1/3 xl:w-1/4",children:[(0,l.jsxs)(o.R.Button,{ref:T,onClick:a?_:C,className:(0,u.default)("relative flex cursor-pointer flex-col bg-white py-2 pr-10 text-left gizmo:text-[15px] gizmo:font-normal dark:bg-gray-800 sm:text-sm","mini"===M?"mx-auto w-auto rounded-lg border border-transparent pl-4 pr-7 hover:border-black/10 gizmo:border-black/10 gizmo:hover:border-black dark:hover:border-white/10 gizmo:dark:border-white/20 gizmo:dark:hover:border-white":"w-full rounded-md border border-black/10 pl-3 focus:border-green-600 focus:outline-none focus:ring-1 focus:ring-green-600 dark:border-white/20"),children:["mini"!==M&&(0,l.jsx)(o.R.Label,{className:"block text-xs text-gray-700 dark:text-gray-500",children:t}),(0,l.jsx)("span",{className:"inline-flex w-full truncate",children:(0,l.jsx)("span",{className:"flex h-6 items-center gap-1 truncate",children:r})}),(0,l.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:z?(0,l.jsx)(v.ud,{}):(0,l.jsx)(f.bTu,{className:"icon-sm text-gray-400","aria-hidden":"true"})})]}),(0,l.jsx)(d.u,{show:a,as:x.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)(R,{ref:I,children:P})})]})});function Z(e){var n=e.value,t=e.disabled,r=e.children,a=e.theme;return(0,l.jsx)(o.R.Option,{className:function(e){var n=e.active;return(0,u.default)("mini"===a?U:A,n&&!t?"bg-gray-100 dark:bg-gray-700":"text-gray-900",t&&"cursor-auto bg-gray-50 text-gray-400 dark:bg-gray-700 dark:text-gray-100")},value:n,children:r})}function S(e){var n=e.icon,t=e.className,r=e.theme;return(0,l.jsx)("mini"===r?Q:Y,{children:(0,l.jsx)(n,{className:(0,u.default)("icon-md",t),"aria-hidden":"true"})})}function B(e){var n=e.selected,t=e.disabled;if("mini"===e.theme){var r=(0,u.default)("h-5 w-5 text-blue-600",n?"stroke-[2.5]":"stroke-2");return(0,l.jsxs)(Q,{children:[n?(0,l.jsx)(j.HQ,{className:r}):(0,l.jsx)(j.i9,{className:r}),!n&&(0,l.jsx)(j.nQ,{className:(0,u.default)("icon-md absolute text-blue-600 opacity-0 transition-opacity",!t&&"group-hover:opacity-100")})]})}return(0,l.jsx)(Y,{children:(0,l.jsx)("div",{className:(0,u.default)("flex h-6 w-6 items-center justify-center rounded-full border transition-colors",n?"border-transparent bg-green-600 text-white":"border-black/5 dark:border-white/20"),"aria-hidden":"true",children:(0,l.jsx)(f.UgA,{className:(0,u.default)("h-3 w-3 transition-opacity",n&&"opacity-100",!n&&"opacity-0",!n&&!t&&"group-hover:opacity-50"),strokeWidth:n?2.5:2})})})}function P(e){var n=e.showCheckbox,t=e.theme;return(0,l.jsxs)("div",{className:(0,u.default)("mini"===t?U:A,"cursor-auto"),children:[(0,l.jsxs)(E,{children:[(0,l.jsx)(V,{children:(0,l.jsx)("div",{className:"h-full w-full rounded-sm bg-gray-200"})}),(0,l.jsx)("div",{className:"h-[12px] w-[88px] rounded-sm bg-gray-100"})]}),n&&(0,l.jsx)(B,{theme:t,selected:!1,disabled:!0})]})}function O(e){var n=e.option,t=e.dropdownRef,r=(0,s._)((0,x.useState)(),2),a=r[0],i=r[1];return((0,x.useEffect)(function(){var e=function(){if(t.current){var e=t.current.getBoundingClientRect();i({top:e.top,left:e.left-260,minHeight:e.height})}};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[t]),a)?(0,l.jsxs)(F,{style:{width:260,minHeight:a.minHeight,top:a.top,left:a.left},children:[n.disabled&&(0,l.jsx)(c.Z,{className:"icon-lg text-red-700 dark:text-red-500"}),n.imageUrl&&(0,l.jsx)(p.Z,{url:n.imageUrl,name:n.title,size:70}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[n.title," ",n.tags.map(function(e){return L(e)})," ",n.customTags]}),(0,l.jsx)("div",{className:"whitespace-pre-line text-xs",children:n.description})]}):null}var L=function(e){return I.includes(e)&&(0,l.jsx)("span",{className:(0,u.default)("py-0.25 rounded px-1 text-[10px] font-semibold uppercase","confidential"===e&&"bg-red-200 text-red-800","alpha"===e&&"bg-blue-200 text-blue-500","plus"===e&&"bg-yellow-200 text-yellow-900"),children:e},e)},H=m.Z.div(y()),R=(0,m.Z)(H)(N()),F=(0,m.Z)(H)(k()),U="group relative flex h-[50px] cursor-pointer select-none items-center overflow-hidden border-b border-black/10 pl-5 pr-12 last:border-0 dark:border-white/20",A="group relative flex h-[42px] cursor-pointer select-none items-center overflow-hidden border-b border-black/10 pl-3 pr-9 last:border-0 dark:border-white/20",E=m.Z.span(C()),V=m.Z.span(_()),Q=m.Z.span(M()),Y=m.Z.span(T())},66273:function(e,n,t){t.d(n,{B:function(){return X}});var r=t(39324),a=t(10064),s=t(4337),i=t(35250),l=t(32148),o=t(33554),d=t(59837),c=t(77421),u=t(62853),x=t(97296),h=t(5397),f=t.n(h),m=t(10721),g=t(70079),p=t(70671),v=t(32004),b=t(94968),j=t(40803),w=t(62682),y=t(51505),N=t(55548),k=t(17944),C=t(25687),_=t(13246),M=t(94705),T=t(7184),I=t(6013),D=function(e){var n=e.children,t=e.contentClassName,r=e.content,s=e.side,l=e.sideOffset,o=(0,a._)((0,g.useState)(void 0),2),d=o[0],c=o[1],u=function(){c(!0)},x=function(){c(void 0)};return(0,i.jsxs)(I.fC,{open:d,onOpenChange:function(e){c(!0===e||void 0)},children:[(0,i.jsx)(I.xz,{asChild:!0,onMouseEnter:u,onMouseLeave:x,children:n}),(0,i.jsx)(I.h_,{children:(0,i.jsx)(I.VY,{onMouseEnter:u,onMouseLeave:x,side:s,sideOffset:l,collisionPadding:16,className:t,onOpenAutoFocus:function(e){e.preventDefault()},onCloseAutoFocus:function(e){e.preventDefault()},children:r})})]})},z=t(59904),Z=t(86585),S=t(50362),B=t(47478),P=t(1454),O=t(18481),L=t(47428),H=t(88903),R=t(39368),F=t(70496);function U(e){var n=e.icon,t=e.label,r=e.onSelect;return(0,i.jsxs)(L.ck,{onSelect:r,className:"flex cursor-pointer select-none items-center gap-3 px-4 py-2 text-sm text-token-text-secondary outline-none radix-highlighted:bg-gray-50 dark:radix-highlighted:bg-gray-700",children:[(0,i.jsx)(n,{className:"icon-sm"}),(0,i.jsx)("span",{children:t})]})}function A(e){var n=e.conversationTemplate,t=(0,k.ec)(k.F_.accountUserId),r=n.owner_id===t,a=(0,m.useRouter)(),s=(0,k.hz)().has("debug"),l=(0,O.xj)(n.id);return(0,i.jsxs)(L.fC,{children:[(0,i.jsx)(L.xz,{asChild:!0,children:(0,i.jsxs)("button",{className:"flex min-w-[256px] items-center gap-4 overflow-hidden rounded p-2 text-left hover:bg-gray-50 radix-state-open:bg-gray-50 dark:hover:bg-gray-700 dark:radix-state-open:bg-gray-700 lg:-ml-2",children:[(0,i.jsx)(H.Py,{conversationTemplate:n}),(0,i.jsxs)("div",{className:"grow",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-token-text-primary",children:n.name}),(0,i.jsxs)("div",{className:"flex items-center gap-1 text-xs text-token-text-tertiary",children:[(0,i.jsxs)("span",{children:["Template by ",n.author_name]}),null!=n.published_at?null!=n.description?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:"•"}),(0,i.jsx)("span",{className:"max-w-[160px] overflow-hidden overflow-ellipsis whitespace-nowrap",children:n.description})]}):null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:"•"}),(0,i.jsx)("span",{children:"Private"})]})]})]}),(0,i.jsx)(P.bTu,{className:"icon-sm text-token-text-tertiary"})]})}),(0,i.jsx)(L.Uv,{children:(0,i.jsxs)(L.VY,{className:"min-w-[256px] max-w-[320px] rounded-md border border-gray-100 bg-white shadow-lg dark:border-gray-700 dark:bg-gray-800",align:"start",side:"bottom",sideOffset:4,children:[(0,i.jsxs)(L.__,{className:"border-b border-gray-200 p-4 dark:border-gray-700",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-token-text-primary",children:n.name}),(0,i.jsx)("div",{className:"mt-1 flex items-center gap-1 text-xs text-token-text-tertiary",children:null!=n.published_at?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P._rq,{className:"icon-xs"}),(0,i.jsx)("span",{children:"Published in workspace"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P.UIZ,{className:"icon-xs"}),(0,i.jsxs)("span",{children:["Private",r&&(0,i.jsx)("span",{children:" (Only visible to you)"})]})]})}),null!=n.published_at&&null!=n.description&&(0,i.jsx)("div",{className:"mt-1 text-xs text-token-text-secondary line-clamp-3",children:n.description})]}),(0,i.jsxs)(L.ZA,{className:"py-1",children:[(0,i.jsx)(U,{icon:P.IC0,label:"New chat with this template",onSelect:function(){a.push((0,R.l1)(n.id),void 0,{shallow:!0})}}),r?(0,i.jsx)(U,{icon:P.IYd,label:"Edit template",onSelect:function(){a.push(l,void 0,{shallow:!0})}}):(0,i.jsx)(U,{icon:P.rDJ,label:"See how it's made",onSelect:function(){(0,F.O)(n.id)}}),s&&(0,i.jsx)(U,{icon:P.cDN,label:"Debug",onSelect:function(){return N.vm.toggleActiveSidebar("debug")}})]})]})})]})}function E(e){var n=e.workspaceId,t=e.conversationTemplateId,r=(0,R.GS)(n,t,{includeDeleted:!0}).data;return(0,i.jsx)("div",{className:"flex min-h-[60px] justify-center border-b border-gray-100 dark:border-gray-700",children:(0,i.jsx)("div",{className:"flex w-full items-center px-2 md:max-w-2xl lg:max-w-[38rem] lg:px-0 xl:max-w-3xl",children:null!=r?(0,i.jsx)(A,{conversationTemplate:r}):null})})}var V=t(74329),Q=t(15635),Y=t(23234),G=t(11547);function q(){var e=(0,s._)(["translateY(",")"]);return q=function(){return e},e}var W=f()(function(){return Promise.all([t.e(8682),t.e(1438),t.e(5427),t.e(5526),t.e(5019),t.e(9678)]).then(t.bind(t,84147)).then(function(e){return e.GizmoConversationHeader})},{loadableGenerated:{webpack:function(){return[84147]}}}),J=f()(function(){return Promise.all([t.e(8682),t.e(1438),t.e(5427),t.e(5526),t.e(5019),t.e(9678)]).then(t.bind(t,84147)).then(function(e){return e.DefaultAssistantConversationHeader})},{loadableGenerated:{webpack:function(){return[84147]}}}),K=[0,60],$=function(e){var n=e.clientThreadId,t=(0,p.Z)(),r=null!==(0,g.useContext)(C.gB),a=(0,k.hz)(),s=y.tQ.getServerThreadId(n),l=(!(0,k.ec)(k.F_.isBusinessWorkspace)||a.has(w.L0.WorkspaceShareLinks))&&a.has(w.RJ);return!r&&void 0!==s&&l?(0,i.jsx)(Q.u,{side:"left",label:t.formatMessage(er.shareChat),children:(0,i.jsx)(V.O,{onClick:function(){return N.vm.openSharingModal(s)},"aria-label":t.formatMessage(er.shareChat),children:(0,i.jsx)(P.A8q,{className:"icon-sm"})})}):null};function X(e){var n=e.currentModelConfig,t=e.clientThreadId,r=e.gizmoId,a=e.icon,s=(0,y.UL)(t),l=(0,k.ec)(function(e){var n;return null===(n=e.currentWorkspace)||void 0===n?void 0:n.id}),o=(0,Y.Ml)();if(null!==(0,g.useContext)(C.gB))return null;if(o){var d,c=null!==(d=s.conversationTemplateId)&&void 0!==d?d:r;return null==c?(0,i.jsx)(J,{currentModelConfig:n,clientThreadId:t}):(0,i.jsx)(W,{gizmoId:c,clientThreadId:t})}return(0,i.jsx)(ee,{children:null!=l&&null!=s.conversationTemplateId?(0,i.jsx)(E,{clientThreadId:t,workspaceId:l,conversationTemplateId:s.conversationTemplateId}):(0,i.jsx)(en,{currentModelConfig:n,clientThreadId:t,icon:a})})}function ee(e){var n=e.children,t=(0,N.tN)(N.bM.isThreadHeaderVisible),r=(0,o.c)(0),s=(0,g.useRef)(null),l=(0,g.useRef)(null),h=(0,a._)((0,j.useAtTop)(),1)[0],f=(0,g.useCallback)(function(e){var n=e.scrollTop;if(null==s.current||s.current===n){s.current=n;return}if(l.current=s.current,s.current=n,l.current>s.current){N.vm.showThreadHeader();var t=Math.max(K[0],r.get()-Math.abs(l.current-s.current));t!==r.get()&&r.set(t)}else{var a=Math.min(K[1],r.get()+Math.abs(l.current-s.current));a!==r.get()&&r.set(a)}},[r]),m=(0,d.H)(r,K,["0%","-100%"]),p=(0,a._)((0,g.useState)(m.get()),2),v=(p[0],p[1]);(0,c.W)(m,"change",function(e){v(e)});var b=(0,u.Y)(q(),m);(0,g.useEffect)(function(){N.vm.showThreadHeader()},[]);var w=null!==(0,g.useContext)(C.gB);return(0,j.useObserveScrollPosition)(w?void 0:f),(0,i.jsx)(x.E.header,{animate:t?void 0:{top:t?0:"-90px",transition:{duration:.2,ease:"easeIn"}},style:{boxShadow:!h&&t?"0px 4px 24px 0px #0000000D":void 0,transform:t?b:void 0},className:"sticky top-0 z-10 w-full bg-white dark:bg-gray-800",children:n})}function en(e){var n,t,a,s=e.currentModelConfig,l=e.clientThreadId,o=e.icon,d=(0,p.Z)(),c=null!==(0,g.useContext)(C.gB),u=(0,N.tN)(function(e){return"debug"===e.activeSidebar}),x=(0,k.hz)(),h=x.has("debug")&&!u,f=[];h&&f.push((0,i.jsx)(Q.u,{side:"left",label:d.formatMessage(er.openDebug),children:(0,i.jsx)(V.O,{onClick:function(){return N.vm.toggleActiveSidebar("debug")},"aria-label":d.formatMessage(er.openDebug),children:(0,i.jsx)(P.cDN,{className:"icon-sm"})})})),f.push((0,i.jsx)($,{clientThreadId:l}));var b=(0,y.Qi)(l),j=null!=b,I=j&&null==b.aboutModelMessage&&null==b.aboutUserMessage&&null!==b.shareId,D=x.has(w.b5),z=(0,y.Ro)(l);void 0===z&&(z=s);var O=z.tags.filter(function(e){return S.D2.includes(e)}).map(function(e){return(0,S.Vp)(e)}),L=c?z.title:s.title,H=(0,Z.i)(l);if(H.length>0){var R=H.map(function(e,n){return(0,i.jsx)(_.Z,{url:e.manifest.logo_url,name:e.manifest.name_for_human,size:16},n)});a=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:(0,i.jsx)(v.Z,(0,r._)({},er.enabledPlugins))}),R]})}var F=(0,m.useRouter)(),U=c&&(null===(n=F.query)||void 0===n?void 0:null===(t=n.shareParams)||void 0===t?void 0:t[1])==="moderate",A=(0,N.tN)(function(e){return e.activeModals.has(N.B.DownloadMessages)}),E=y.tQ.getThreadCurrentLeafId(l),Y=(0,y.u9)(l,E),G=(0,g.useCallback)(function(){D&&(0,B.Ub)(l,Y)},[l,D,Y]);return(0,i.jsxs)(i.Fragment,{children:[D&&(0,i.jsx)(T.Z,{type:"success",isOpen:A,onClose:function(){N.vm.closeModal(N.B.DownloadMessages)},closeButton:(0,i.jsx)(M.ZP.CloseButton,{onClose:function(){N.vm.closeModal(N.B.DownloadMessages)}}),primaryButton:(0,i.jsx)(M.ZP.Button,{onClick:G,children:(0,i.jsx)(v.Z,(0,r._)({},er.downloadButton))}),title:d.formatMessage(er.downloadChatDebugInfo),secondaryButton:(0,i.jsx)(M.ZP.Button,{onClick:function(){N.vm.closeModal(N.B.DownloadMessages)},children:(0,i.jsx)(v.Z,(0,r._)({},er.cancelButton))})}),(0,i.jsxs)("div",{className:"relative z-20 flex min-h-[60px] flex-wrap items-center justify-between gap-3 border-b border-black/10 bg-white p-2 text-gray-500 dark:border-gray-900/50 dark:bg-gray-800 dark:text-gray-300",onClick:function(e){D&&!c&&3===e.detail&&N.vm.openModal(N.B.DownloadMessages)},children:[(0,i.jsx)("div",{className:"hidden flex-shrink flex-row sm:flex",children:f.map(function(e,n){return(0,i.jsx)(V.h,{},n)})}),(0,i.jsxs)("div",{className:"flex flex-1 flex-grow items-center gap-1 px-2 py-1 text-gray-600 dark:text-gray-200 sm:justify-center sm:p-0",children:[c&&(0,i.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,i.jsx)("span",{children:(0,i.jsx)(v.Z,(0,r._)({},er.sharedChat))}),(0,i.jsx)("span",{className:"px-1",children:"•"})]}),!c&&null!=o&&(0,i.jsx)(o,{className:"icon-sm"}),(0,i.jsx)("span",{children:L}),O,a?(0,i.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,i.jsx)("span",{className:"px-1",children:"•"}),a]}):null,U&&(0,i.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,i.jsx)("span",{className:"px-1",children:"•"}),(0,i.jsx)("strong",{children:(0,i.jsx)(v.Z,(0,r._)({},er.moderationView))})]}),!c&&j&&!I&&(0,i.jsx)("div",{className:"",children:(0,i.jsx)(et,{clientThreadId:l})})]}),(0,i.jsx)("div",{className:"flex flex-shrink flex-row",children:f.map(function(e,n){return(0,i.jsx)("span",{children:e},n)})})]})]})}var et=function(e){var n=e.clientThreadId,t=(0,y.Qi)(n),a=(0,g.useMemo)(function(){if(null==t)return null;var e=t.aboutUserMessage,n=t.aboutModelMessage,a=t.fallback;return null!=e&&null!=n?(0,i.jsxs)("div",{className:"flex flex-col gap-7",children:[null!==e&&""!==e&&(0,i.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,i.jsx)("div",{className:"font-medium text-gray-600 dark:text-gray-200",children:(0,i.jsx)(v.Z,(0,r._)({},G.sY.aboutYouHelpText))}),(0,i.jsx)("div",{className:"flex flex-row gap-1 text-gray-500",children:e})]}),null!==n&&""!==n&&(0,i.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,i.jsx)("div",{className:"font-medium text-gray-600 dark:text-gray-200",children:(0,i.jsx)(v.Z,(0,r._)({},G.sY.modelHelpText))}),(0,i.jsx)("div",{className:"flex flex-row gap-1 text-gray-500",children:n})]})]}):null!=a?a:null},[t]);return null===t?null:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(D,{contentClassName:"relative max-h-[450px] min-w-[300px] max-w-[350px] animate-slideDownAndFade select-none overflow-y-auto whitespace-pre-line rounded-xl border-gray-100 bg-white p-4 text-sm text-gray-600 shadow-xs dark:bg-gray-900 dark:text-white sm:max-w-lg md:max-w-xl",side:"bottom",sideOffset:8,content:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"mb-5 mt-1 border-b border-black/10 pb-5 dark:border-white/10",children:(0,i.jsx)("div",{className:"flex flex-row items-center gap-2 text-gray-500",children:(0,i.jsx)(v.Z,(0,r._)({},er.chatPreferencesNote))})}),a]}),children:(0,i.jsxs)("div",{className:"cursor-pointer pt-0.5",children:[(0,i.jsx)(z.HV,{className:"h-4 w-4 flex-shrink-0 sm:mb-0.5 sm:h-5 sm:w-5"}),(0,i.jsx)(l.T,{children:(0,i.jsx)(v.Z,(0,r._)({},er.chatPreferencesInfoLabel))})]})})})},er=(0,b.vU)({chatPreferencesInfoLabel:{id:"ThreadSettings.chatPreferencesInfoLabel",defaultMessage:"Custom instructions details",description:"Label for the Custom instructions info icon"},chatPreferencesNote:{id:"ThreadSettings.chatPreferencesNote",defaultMessage:"Custom instructions are on and can only be changed at the beginning of the chat.",description:"Label in the popover for Custom Instructions"},openDebug:{id:"ThreadSettings.openDebug",defaultMessage:"Open debug sidebar",description:"Open debug sidebar button tooltip"},shareChat:{id:"ThreadSettings.shareChat",defaultMessage:"Share chat",description:"Open share modal button tooltip"},sharedChat:{id:"ThreadHeader.sharedChat",defaultMessage:"Shared Chat",description:"Label for shared chat status"},enabledPlugins:{id:"ThreadHeader.enabledPlugins",defaultMessage:"Enabled plugins:",description:"Label for enabled plugins in the header"},moderationView:{id:"ThreadHeader.moderationView",defaultMessage:"MODERATION VIEW",description:"Label for moderation view status"},downloadChatDebugInfo:{id:"ThreadHeader.downloadChatDebugInfo",defaultMessage:"Download chat debug info",description:"Title for the Download chat debug info modal"},downloadButton:{id:"ThreadHeader.downloadButton",defaultMessage:"Download",description:"Download button text in the Download chat debug info modal"},cancelButton:{id:"ThreadHeader.cancelButton",defaultMessage:"Cancel",description:"Cancel button text in the Download chat debug info modal"}})},23211:function(e,n,t){t.d(n,{D:function(){return r},z:function(){return a}});var r="ChatGPT",a="Untitled"},11322:function(e,n,t){t.d(n,{$:function(){return l},o:function(){return d}});var r=t(35250),a=t(19841),s=t(59904),i=t(21950);function l(e){var n=e.gizmo,t=e.className;return(0,r.jsx)("div",{className:(0,a.default)("gizmo-shadow-stroke rounded-full",t),children:null==n?(0,r.jsx)("div",{className:"flex h-full items-center justify-center rounded-full bg-white text-black",children:(0,r.jsx)(s.nI,{className:"h-2/3 w-2/3"})}):null!=n.profile_pic_permalink?(0,r.jsx)("img",{src:n.profile_pic_permalink,alt:n.name,className:"h-full overflow-hidden rounded-full bg-white object-cover"}):null})}function o(e){var n=e.gizmoId,t=e.className,a=(0,i.b9)(n).data;return null==a?(0,r.jsx)("div",{className:t}):(0,r.jsx)(l,{gizmo:a,className:t})}function d(e){var n=e.gizmoId,t=e.className;return null==n?(0,r.jsx)(l,{gizmo:void 0,className:t}):(0,r.jsx)(o,{gizmoId:n,className:t})}},86585:function(e,n,t){t.d(n,{i:function(){return f}});var r=t(21722),a=t(20485),s=t(38104),i=t(86646),l=t(51505),o=t(82473),d=t(61236),c=t(56457),u=t(21613);function x(e){return h.apply(this,arguments)}function h(){return(h=(0,r._)(function(e){var n;return(0,s.Jh)(this,function(t){switch(t.label){case 0:return n=e.queryKey,[4,i.ZP.publicGetPluginsById({ids:n})];case 1:return[2,t.sent().items]}})})).apply(this,arguments)}function f(e){var n,t,r;return null!==(n=(t=(0,l.GR)(e),r=(0,o.NL)(),(0,d.a)({queryKey:t,queryFn:x,initialData:function(){var e=null===(d=r.getQueryData(u.Z))||void 0===d?void 0:d.items,n=null===(x=r.getQueryData(c.V))||void 0===x?void 0:x.items,s=[],i=!0,l=!1,o=void 0;try{for(var d,x,h,f=t[Symbol.iterator]();!(i=(h=f.next()).done);i=!0){var m=function(){var t,r=h.value,a=null!==(t=null==e?void 0:e.find(function(e){return e.id===r}))&&void 0!==t?t:null==n?void 0:n.find(function(e){return e.id===r});if(null==a)return{v:void 0};s.push(a)}();if("object"===(0,a._)(m))return m.v}}catch(e){l=!0,o=e}finally{try{i||null==f.return||f.return()}finally{if(l)throw o}}return s}})).data)&&void 0!==n?n:[]}}}]);